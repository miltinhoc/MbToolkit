using System;
using System.Diagnostics;

namespace MalwarebytesToolkit.Manager
{
    public class ProcessManager
    {
        private readonly string _processName = "Malwarebytes";

        private bool IsProcessRunning(string processName) => Process.GetProcessesByName(processName).Length != 0;

        public bool IsMalwarebytesIsRunning() => IsProcessRunning(_processName);

        public void RunProcess(string executable, string argument)
        {
            ProcessStartInfo startInfo = new ProcessStartInfo
            {
                FileName = executable,
                Arguments = argument,
                UseShellExecute = false,
                CreateNoWindow = true
            };

            using (Process process = new Process())
            {
                process.StartInfo = startInfo;
                try
                {
                    process.Start();
                    process.WaitForExit();
                }
                catch (Exception) {}
            }
        }
    }
}
